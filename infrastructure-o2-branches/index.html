
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../infrastructure-release-process-o2/">
      
      
        <link rel="next" href="../infrastructure-nightly/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>O2 Git Branches - ALICE software</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.7e37652d.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#stable-branches-for-o2" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="ALICE software" class="md-header__button md-logo" aria-label="ALICE software" data-md-component="logo">
      
  <img src="../alice_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ALICE software
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              O2 Git Branches
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/alisw/alisw.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    View source code
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="ALICE software" class="md-nav__button md-logo" aria-label="ALICE software" data-md-component="logo">
      
  <img src="../alice_logo.png" alt="logo">

    </a>
    ALICE software
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/alisw/alisw.github.io" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    View source code
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../git-tutorial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Basic tutorial
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../git-advanced/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Advanced tutorial
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Build infrastructure
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Tasks
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Tasks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-release-process/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release process of AliRoot / AliPhysics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-release-process-o2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release process O2PDPSuite
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    O2 stable branches
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    O2 stable branches
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#stable-branches-for-o2" class="md-nav__link">
    <span class="md-ellipsis">
      Stable branches for O2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Stable branches for O2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cherry-picking-specific-commits-from-dev-into-stable-" class="md-nav__link">
    <span class="md-ellipsis">
      Cherry-picking specific commits from dev into stable-*
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merging-the-changes-from-dev-into-stable-" class="md-nav__link">
    <span class="md-ellipsis">
      Merging the changes from dev into stable-*
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-nightly/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nightly builds
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-cvmfs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CVMFS releases
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-pr-testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Testing of Pull Requests (continuous integration)
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-logs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Build Logs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-publisher/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release Publishing
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-relval/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Release and Validation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-alibi-user-guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AliBI User Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-auto-builds/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Setting up automatic release builds
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-rpms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generation of RPMs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-known-tradeoffs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Known tradeoffs
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-docker-packer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Building Docker images with Packer
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Infrastructure details
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Infrastructure details
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-nomad/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Using Nomad, Consul and Vault
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-nomad-host/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Nomad cluster setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-macos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MacOS builder setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-machines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Virtual and physical machines
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-alienvobox/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AliEn VoBox
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-frontend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Web Frontend
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-jenkins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Jenkins
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-repository/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AliBuild S3 Repository
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-alibi/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AliBI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../infrastructure-auto-builds/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Setting up automatic release builds
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#stable-branches-for-o2" class="md-nav__link">
    <span class="md-ellipsis">
      Stable branches for O2
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Stable branches for O2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cherry-picking-specific-commits-from-dev-into-stable-" class="md-nav__link">
    <span class="md-ellipsis">
      Cherry-picking specific commits from dev into stable-*
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#merging-the-changes-from-dev-into-stable-" class="md-nav__link">
    <span class="md-ellipsis">
      Merging the changes from dev into stable-*
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


  <h1>O2 stable branches</h1>

<h2 id="stable-branches-for-o2">Stable branches for O2<a class="headerlink" href="#stable-branches-for-o2" title="Permanent link">#</a></h2>
<p>The O2 software is developed continuously in the <code>dev</code> branch. Both the synchronous and the asynchronous processing have their own stable branches, <code>stable-sync</code> and <code>stable-async</code>, which follow the <code>dev</code> branch closely. The following procedure has been agreed upon for managing the two stable branches:</p>
<ol>
<li>Both synchronous processing at P2 and the asynchronous processing on the grid might require quick fixes which should not rely on coordination between the two. For that reason there are two stable branches <code>stable-sync</code> and <code>stable-async</code>.</li>
<li>No development shall go into these branches. All developments must go into <code>dev</code>. They will not be used to port fixes by user requests.</li>
<li>When requested by RC or by experts for sync / async reconstruction, we can cherry-pick fixes / features from <code>dev</code> in one of the stable branches. We will not do extensive back-porting. If the patches do not apply cleanly or with only trivial merge conflicts, we do not cherry-pick but we will merge the full <code>dev</code> branch into the stable branch.</li>
<li>We will regularly merge the full <code>dev</code> branch into the stable branches. For synchronous reconstruction usually synchronized with the large software updates. After merging, <code>stable-*</code> will be hard reset to the state of <code>dev</code>.</li>
<li>The stable branches shall not split up further, i.e. we only either cherry-pick individual commits on top, or we merge the full <code>dev</code>.</li>
<li>Nightly builds for <code>dev</code> are unaffected, we do not do nightly builds for the stable branch. Instead, tags of the stable branch are only built manually via jenkins when needed.</li>
<li>We use the same validation mechanism for tags of the stable branch as for the <code>dev</code> branch, i.e. the FST for <code>stable-sync</code>, and the release validation for <code>stable-async</code>.</li>
<li>The naming scheme for tags of the stable branch is [last tag in dev branch] + "." + [incrementing number].
   If changes to an existing tag are carried out, you can instead add an incrementing letter, for example, <code>async-20231102.3</code> -&gt; <code>async-20231102.3a</code> -&gt; <code>async-20231102.3b</code>.</li>
</ol>
<p>The procedure for cherry-picking and for merging is described below. The following branching scheme should give an overview:
<img alt="Overview" src="../images/branching-scheme.png" /></p>
<h3 id="cherry-picking-specific-commits-from-dev-into-stable-">Cherry-picking specific commits from <code>dev</code> into <code>stable-*</code><a class="headerlink" href="#cherry-picking-specific-commits-from-dev-into-stable-" title="Permanent link">#</a></h3>
<ul>
<li>We start with the branch <code>stable-sync</code> at commit <code>6d54961f81f6c129a28b655baa4101b0ecd41535</code>, tag <code>epn-20220812</code>.</li>
</ul>
<p><img alt="Starting point" src="../images/branching-screenshot1.png" /></p>
<ul>
<li>The remote repository is set up with write access under a special name "upstream-write", to make sure that no accidental push to "upstream" is tried (upstream is configured as read-only via http).</li>
<li>First, rebase to make sure you are on the latest state of the upstream branch.</li>
<li>Cherry-picking the 2 commits <code>0c3c41a93e2e2bbd1ce650e852128b66d38c907a</code> and <code>04f7383a49287af12c37c5bb88cb36f7fcc8bc22</code>.</li>
<li>Please make sure to cherry-pick them in the order they are applied in the <code>dev</code> branch.</li>
<li>Only accept cherry-picks that apply cleanly, or if the merge conflicts are trivial!</li>
<li>When you want to build that version, tag it using the naming scheme mentioned above. In this case as <code>epn-20220812.1</code>.</li>
<li>Push the branch and the tag</li>
</ul>
<p>The console output looks as follows:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>qon@qon<span class="w"> </span>~/alice/O2<span class="w"> </span>$<span class="w"> </span>git<span class="w"> </span>checkout<span class="w"> </span>stable-sync
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>Already<span class="w"> </span>on<span class="w"> </span><span class="s1">&#39;stable-sync&#39;</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>qon@qon<span class="w"> </span>~/alice/O2<span class="w"> </span>$<span class="w"> </span>git<span class="w"> </span>fetch<span class="w"> </span>upstream
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>qon@qon<span class="w"> </span>~/alice/O2<span class="w"> </span>$<span class="w"> </span>git<span class="w"> </span>rebase<span class="w"> </span>upstream/stable-sync
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>Current<span class="w"> </span>branch<span class="w"> </span>stable-sync<span class="w"> </span>is<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span>date.
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>qon@qon<span class="w"> </span>~/alice/O2<span class="w"> </span>$<span class="w"> </span>git<span class="w"> </span>cherry-pick<span class="w"> </span>0c3c41a93e2e2bbd1ce650e852128b66d38c907a
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="o">[</span>stable-sync<span class="w"> </span><span class="m">77305662736</span><span class="o">]</span><span class="w"> </span><span class="o">[</span>EMCAL-566<span class="o">]</span><span class="w"> </span>print<span class="w"> </span>detailed<span class="w"> </span>message<span class="w"> </span><span class="k">if</span><span class="w"> </span>gaus<span class="w"> </span>fit<span class="w"> </span>fails
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>Author:<span class="w"> </span>Joshua<span class="w"> </span>Koenig<span class="w"> </span>&lt;joshua.konig@cern.ch&gt;
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>Date:<span class="w"> </span>Wed<span class="w"> </span>Aug<span class="w"> </span><span class="m">10</span><span class="w"> </span><span class="m">10</span>:51:08<span class="w"> </span><span class="m">2022</span><span class="w"> </span>+0200
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="m">3</span><span class="w"> </span>files<span class="w"> </span>changed,<span class="w"> </span><span class="m">77</span><span class="w"> </span>insertions<span class="o">(</span>+<span class="o">)</span>,<span class="w"> </span><span class="m">67</span><span class="w"> </span>deletions<span class="o">(</span>-<span class="o">)</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>qon@qon<span class="w"> </span>~/alice/O2<span class="w"> </span>$<span class="w"> </span>git<span class="w"> </span>cherry-pick<span class="w"> </span>04f7383a49287af12c37c5bb88cb36f7fcc8bc22
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="o">[</span>stable-sync<span class="w"> </span>b2175be0ffc<span class="o">]</span><span class="w"> </span>MeanVertex<span class="w"> </span>X<span class="w"> </span>and<span class="w"> </span>Y<span class="w"> </span>coordinate<span class="w"> </span>depend<span class="w"> </span>on<span class="w"> </span>Z<span class="w"> </span><span class="o">(</span><span class="c1">#9315)</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>Author:<span class="w"> </span>Chiara<span class="w"> </span>Zampolli<span class="w"> </span>&lt;chiara.zampolli@cern.ch&gt;
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>Date:<span class="w"> </span>Mon<span class="w"> </span>Aug<span class="w"> </span><span class="m">15</span><span class="w"> </span><span class="m">17</span>:44:26<span class="w"> </span><span class="m">2022</span><span class="w"> </span>+0200
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="m">9</span><span class="w"> </span>files<span class="w"> </span>changed,<span class="w"> </span><span class="m">434</span><span class="w"> </span>insertions<span class="o">(</span>+<span class="o">)</span>,<span class="w"> </span><span class="m">266</span><span class="w"> </span>deletions<span class="o">(</span>-<span class="o">)</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>qon@qon<span class="w"> </span>~/alice/O2<span class="w"> </span>$<span class="w"> </span>git<span class="w"> </span>tag<span class="w"> </span>-a<span class="w"> </span>epn-20220812.1
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>hint:<span class="w"> </span>Waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span>your<span class="w"> </span>editor<span class="w"> </span>to<span class="w"> </span>close<span class="w"> </span>the<span class="w"> </span>file...
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>qon@qon<span class="w"> </span>~/alice/O2<span class="w"> </span>$<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>upstreamwrite<span class="w"> </span>stable-sync
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>Enumerating<span class="w"> </span>objects:<span class="w"> </span><span class="m">53</span>,<span class="w"> </span><span class="k">done</span>.
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>Counting<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">53</span>/53<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>Delta<span class="w"> </span>compression<span class="w"> </span>using<span class="w"> </span>up<span class="w"> </span>to<span class="w"> </span><span class="m">16</span><span class="w"> </span>threads
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>Compressing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">22</span>/22<span class="o">)</span>,<span class="w"> </span><span class="k">done</span>.
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>Writing<span class="w"> </span>objects:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">28</span>/28<span class="o">)</span>,<span class="w"> </span><span class="m">7</span>.45<span class="w"> </span>KiB<span class="w"> </span><span class="p">|</span><span class="w"> </span><span class="m">7</span>.45<span class="w"> </span>MiB/s,<span class="w"> </span><span class="k">done</span>.
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>Total<span class="w"> </span><span class="m">28</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">22</span><span class="o">)</span>,<span class="w"> </span>reused<span class="w"> </span><span class="m">9</span><span class="w"> </span><span class="o">(</span>delta<span class="w"> </span><span class="m">4</span><span class="o">)</span>,<span class="w"> </span>pack-reused<span class="w"> </span><span class="m">0</span>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>remote:<span class="w"> </span>Resolving<span class="w"> </span>deltas:<span class="w"> </span><span class="m">100</span>%<span class="w"> </span><span class="o">(</span><span class="m">22</span>/22<span class="o">)</span>,<span class="w"> </span>completed<span class="w"> </span>with<span class="w"> </span><span class="m">20</span><span class="w"> </span><span class="nb">local</span><span class="w"> </span>objects.
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>To<span class="w"> </span>github.com:AliceO2Group/AliceO2.git
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a><span class="w">  </span>b2175be0ffc..b3dd9e5135c<span class="w">  </span>stable-sync<span class="w"> </span>-&gt;<span class="w"> </span>stable-sync
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>qon@qon<span class="w"> </span>~/alice/O2<span class="w"> </span>$<span class="w"> </span>git<span class="w"> </span>push<span class="w"> </span>upstreamwrite<span class="w"> </span>epn-20220812.1
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a><span class="o">[</span>...<span class="o">]</span>
</span></code></pre></div>
<ul>
<li>See below the state of the current branch. We are at the previous state (<code>epn-20220812</code>) with the two cherry-picked commits on top. And this state is tagged as <code>epn-20220812.1</code>.</li>
</ul>
<p><img alt="After picking" src="../images/branching-screenshot2.png" /></p>
<h3 id="merging-the-changes-from-dev-into-stable-">Merging the changes from <code>dev</code> into <code>stable-*</code><a class="headerlink" href="#merging-the-changes-from-dev-into-stable-" title="Permanent link">#</a></h3>
<p>Next we want to bring <code>stable-sync</code> to the state of the current <code>dev</code>. For this we merge <code>upstream/dev</code> into the current branch <code>stable-sync</code>. (We could also merge the latest nightly-tag, if that nightly tag is what is running on the EPNs.)
- We merge with the option <code>-X theirs</code> to make sure that in case of a conflict, we use the <code>dev</code> branch.
- Afterwards, in case the merge did not yield the exact state of <code>upstream/dev</code>, we run a <code>git diff</code> to <code>upstream/dev</code>, apply possible changes to the working tree, and amend the merge commit by it. The exact commands for this are:</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>git<span class="w"> </span>diff<span class="w"> </span>upstream/dev<span class="w"> </span><span class="p">|</span><span class="w"> </span>git<span class="w"> </span>apply<span class="w"> </span>--allow-empty<span class="w"> </span>-R<span class="w"> </span>--index<span class="p">;</span><span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>--amend<span class="w"> </span>--no-edit
</span></code></pre></div>
<ul>
<li>Here again the possible console output:</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>qon@qon<span class="w"> </span>~/alice/O2<span class="w"> </span>$<span class="w"> </span>git<span class="w"> </span>fetch<span class="w"> </span>upstream
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>qon@qon<span class="w"> </span>~/alice/O2<span class="w"> </span>$<span class="w"> </span>git<span class="w"> </span>merge<span class="w"> </span>-X<span class="w"> </span>theirs<span class="w"> </span>upstream/dev
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>Auto-merging<span class="w"> </span>Common/SimConfig/include/SimConfig/SimConfig.h
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>Auto-merging<span class="w"> </span>Common/Utils/include/CommonUtils/BoostHistogramUtils.h
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>Auto-merging<span class="w"> </span>Detectors/EMCAL/calibration/include/EMCALCalibration/EMCALCalibExtractor.h
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>hint:<span class="w"> </span>Waiting<span class="w"> </span><span class="k">for</span><span class="w"> </span>your<span class="w"> </span>editor<span class="w"> </span>to<span class="w"> </span>close<span class="w"> </span>the<span class="w"> </span>file...
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>Merge<span class="w"> </span>made<span class="w"> </span>by<span class="w"> </span>the<span class="w"> </span><span class="s1">&#39;ort&#39;</span><span class="w"> </span>strategy.
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>CODEOWNERS<span class="w">                                                                     </span><span class="p">|</span><span class="w">    </span><span class="m">4</span><span class="w"> </span>+-
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>Common/SimConfig/include/SimConfig/SimConfig.h<span class="w">                                 </span><span class="p">|</span><span class="w">    </span><span class="m">6</span><span class="w"> </span>+-
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>Common/SimConfig/src/SimConfig.cxx<span class="w">                                             </span><span class="p">|</span><span class="w">    </span><span class="m">6</span><span class="w"> </span>+-
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>Common/Utils/CMakeLists.txt<span class="w">                                                    </span><span class="p">|</span><span class="w">    </span><span class="m">2</span><span class="w"> </span>+-
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>Common/Utils/include/CommonUtils/BoostHistogramUtils.h<span class="w">                         </span><span class="p">|</span><span class="w">  </span><span class="m">142</span><span class="w"> </span>+++++++++++++++++++++++++++++++-
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>Common/Utils/include/CommonUtils/RngHelper.h<span class="w">                                   </span><span class="p">|</span><span class="w">    </span><span class="m">6</span><span class="w"> </span>+-
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="o">[</span>...<span class="o">]</span>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="m">78</span><span class="w"> </span>files<span class="w"> </span>changed,<span class="w"> </span><span class="m">2518</span><span class="w"> </span>insertions<span class="o">(</span>+<span class="o">)</span>,<span class="w"> </span><span class="m">1572</span><span class="w"> </span>deletions<span class="o">(</span>-<span class="o">)</span>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>qon@qon<span class="w"> </span>~/alice/O2<span class="w"> </span>$<span class="w"> </span>git<span class="w"> </span>diff<span class="w"> </span>upstream/dev<span class="w"> </span><span class="p">|</span><span class="w"> </span>git<span class="w"> </span>apply<span class="w"> </span>--allow-empty<span class="w"> </span>-R<span class="w"> </span>--index
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>qon@qon<span class="w"> </span>~/alice/O2<span class="w"> </span>$<span class="w"> </span>git<span class="w"> </span>commit<span class="w"> </span>--amend<span class="w"> </span>--no-edit
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="o">[</span>stable-sync<span class="w"> </span>005d1dd4aff<span class="o">]</span><span class="w"> </span>Merge<span class="w"> </span>remote-tracking<span class="w"> </span>branch<span class="w"> </span><span class="s1">&#39;upstream/dev&#39;</span><span class="w"> </span>into<span class="w"> </span>stable-sync
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a>Date:<span class="w"> </span>Wed<span class="w"> </span>Aug<span class="w"> </span><span class="m">17</span><span class="w"> </span><span class="m">14</span>:15:22<span class="w"> </span><span class="m">2022</span><span class="w"> </span>+0200
</span></code></pre></div>
<ul>
<li>Finally, make sure we are exactly at <code>upstream/dev</code>. The following diff must not show any difference.</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>qon@qon<span class="w"> </span>~/alice/O2<span class="w"> </span>$<span class="w"> </span>git<span class="w"> </span>diff<span class="w"> </span>upstream/dev<span class="w"> </span><span class="p">|</span><span class="w"> </span>cat
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>qon@qon<span class="w"> </span>~/alice/O2<span class="w"> </span>$
</span></code></pre></div>
<ul>
<li>
<p>Now the <code>stable-sync</code> branch is exactly at the state of <code>upstream/dev</code>, and from here on we can cherry-pick further commits from <code>upstream/dev</code> that were committed after the merge.</p>
</li>
<li>
<p>Please see the final state in the figure below. From the point we started branching of (<code>epn-20220812</code>) the <code>stable-sync</code> branch had 2 commits cherry-picked, and then it is merged with <code>upstream/dev</code>.</p>
</li>
</ul>
<p><img alt="After merging" src="../images/branching-screenshot3.png" /></p>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.92b07e13.min.js"></script>
      
    
  </body>
</html>